- request: POST 'codereview/api/v2/issues/5629499534213120/patchsets/1/patches/1/drafts'
  response:
    code: 302
    json:
      data:
        location: /_ah/login?continue=http%3A//SERVER%3APORT/codereview/api/v2/issues/5629499534213120/patchsets/1/patches/1/drafts
        msg: Needs login.
      status:
        code: 302
        type: REDIRECT
- request: GET '_ah/login?action=Login&admin=False&email=test%40example.com'
  response:
    code: 302
    raw: []
- request: POST 'codereview/api/v2/issues/5629499534213120/patchsets/1/patches/1/drafts'
  response:
    code: 201
    json:
      data:
        body: 'I like this line very much.

          Maybe if it had more syllables?'
        context_line: The lake gently beckons you
        created: '2013-12-27 02:29:37.429389'
        id: 1
        lineno: 2
        modified: '2013-12-27 02:29:37.429389'
        owner: test@example.com
        patch_id: 1
        patchset_id: 1
        side: old
      status:
        code: 201
        type: OK
- request: PUT 'codereview/api/v2/issues/5629499534213120/patchsets/1/patches/1/drafts/1'
  response:
    code: 200
    json:
      data:
        body: I do not really like this line at all...
        context_line: The lake gently beckons you
        created: '2013-12-27 02:29:37.429389'
        id: 1
        lineno: 2
        modified: '2013-12-27 02:29:47.665609'
        owner: test@example.com
        patch_id: 1
        patchset_id: 1
        side: old
      status:
        code: 200
        type: OK
- request: GET 'codereview/api/v2/issues/5629499534213120/patchsets/1/patches/1/drafts'
  response:
    code: 200
    json:
      data:
      - body: I do not really like this line at all...
        context_line: The lake gently beckons you
        created: '2013-12-27 02:29:37.429389'
        id: 1
        lineno: 2
        modified: '2013-12-27 02:29:47.665609'
        owner: test@example.com
        patch_id: 1
        patchset_id: 1
        side: old
      status:
        code: 200
        type: OK
- request: GET 'codereview/api/v2/issues/5629499534213120/patchsets/1/patches/1/drafts/1'
  response:
    code: 200
    json:
      data:
        body: I do not really like this line at all...
        context_line: The lake gently beckons you
        created: '2013-12-27 02:29:37.429389'
        id: 1
        lineno: 2
        modified: '2013-12-27 02:29:47.665609'
        owner: test@example.com
        patch_id: 1
        patchset_id: 1
        side: old
      status:
        code: 200
        type: OK
- request: DELETE 'codereview/api/v2/issues/5629499534213120/patchsets/1/patches/1/drafts/1'
  response:
    code: 200
    json:
      data: null
      status:
        code: 200
        type: OK
- request: GET 'codereview/api/v2/issues/5629499534213120/patchsets/1/patches/1/drafts'
  response:
    code: 200
    json:
      data: []
      status:
        code: 200
        type: OK
- request: GET 'codereview/api/v2/issues/5629499534213120/patchsets/1/patches/1/drafts/1'
  response:
    code: 404
    json:
      data:
        msg: Key('Account', '<test@example.com>', 'IssueMetadata', 5629499534213120,
          '$Drafts', 1) was not found.
      status:
        code: 404
        type: ERROR
- request: PUT 'codereview/api/v2/issues/5629499534213120/patchsets/1/patches/1/drafts'
  response:
    code: 200
    json:
      data:
      - body: This is just crazy...
        context_line: Waters move softly
        created: '2013-12-27 02:32:55.871176'
        id: 2
        lineno: 1
        modified: '2013-12-27 02:32:55.871176'
        owner: test@example.com
        patch_id: 1
        patchset_id: 1
        side: old
      - body: I can put multiple drafts
        context_line: The hat gently pokes you
        created: '2013-12-27 02:32:55.871176'
        id: 3
        lineno: 2
        modified: '2013-12-27 02:32:55.871176'
        owner: test@example.com
        patch_id: 1
        patchset_id: 1
        side: new
      - body: At the same time!?
        context_line: Slip into it's grave
        created: '2013-12-27 02:32:55.871176'
        id: 1
        lineno: 3
        modified: '2013-12-27 02:32:55.871176'
        owner: test@example.com
        patch_id: 1
        patchset_id: 1
        side: old
      status:
        code: 200
        type: OK
- request: GET 'codereview/api/v2/issues/5629499534213120/drafts'
  response:
    code: 200
    json:
      data:
      - body: At the same time!?
        context_line: Slip into it's grave
        created: '2013-12-27 02:32:55.871176'
        id: 1
        lineno: 3
        modified: '2013-12-27 02:32:55.871176'
        owner: test@example.com
        patch_id: 1
        patchset_id: 1
        side: old
      - body: This is just crazy...
        context_line: Waters move softly
        created: '2013-12-27 02:32:55.871176'
        id: 2
        lineno: 1
        modified: '2013-12-27 02:32:55.871176'
        owner: test@example.com
        patch_id: 1
        patchset_id: 1
        side: old
      - body: I can put multiple drafts
        context_line: The hat gently pokes you
        created: '2013-12-27 02:32:55.871176'
        id: 3
        lineno: 2
        modified: '2013-12-27 02:32:55.871176'
        owner: test@example.com
        patch_id: 1
        patchset_id: 1
        side: new
      status:
        code: 200
        type: OK
